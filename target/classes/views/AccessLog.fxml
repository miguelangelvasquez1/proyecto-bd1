<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.tienda.controller.AccessLogController">
   <top>
      <VBox>
      <fx:include source="top.fxml"/>

      <VBox spacing="10.0">
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
         </padding>
         <Label text="Bitácora de Acceso al Sistema" style="-fx-font-size: 18px; -fx-font-weight: bold;" />
         
         <HBox spacing="10.0" alignment="CENTER_LEFT">
            <Label text="Usuario:" />
            <ComboBox fx:id="cmbUser" promptText="Todos los usuarios" prefWidth="150.0" />
            <Label text="Desde:" />
            <DatePicker fx:id="dateFrom" />
            <Label text="Hasta:" />
            <DatePicker fx:id="dateTo" />
            <Button onAction="#filterData" text="Filtrar" />
            <Button onAction="#refreshData" text="Actualizar" />
            <Button onAction="#exportData" text="Exportar" />
         </HBox>
      </VBox>
      </VBox>
   </top>
   
   <center>
      <TableView fx:id="tableAccessLog">
         <columns>
            <TableColumn fx:id="colId" prefWidth="60.0" text="ID" />
            <TableColumn fx:id="colUser" prefWidth="120.0" text="Usuario" />
            <TableColumn fx:id="colEntryDateTime" prefWidth="150.0" text="Fecha/Hora Entrada" />
            <TableColumn fx:id="colDepartureDateTime" prefWidth="150.0" text="Fecha/Hora Salida" />
            <TableColumn fx:id="colSessionDuration" prefWidth="120.0" text="Duración" />
            <TableColumn fx:id="colIpAddress" prefWidth="120.0" text="IP" />
            <TableColumn fx:id="colStatus" prefWidth="100.0" text="Estado" />
         </columns>
      </TableView>
   </center>
   
   <bottom>
      <HBox spacing="15.0" alignment="CENTER_LEFT">
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
         </padding>
         <Label fx:id="statusLabel" text="Listo" />
         <Separator orientation="VERTICAL" />
         <Label fx:id="recordCountLabel" text="Registros: 0" />
         <Separator orientation="VERTICAL" />
         <Label fx:id="activeSessionsLabel" text="Sesiones activas: 0" />
      </HBox>
   </bottom>
</BorderPane>